<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>myblog</title>
<link>https://your-website-url.example.com/</link>
<atom:link href="https://your-website-url.example.com/index.xml" rel="self" type="application/rss+xml"/>
<description>A blog built with Quarto</description>
<generator>quarto-1.8.26</generator>
<lastBuildDate>Mon, 24 Nov 2025 00:00:00 GMT</lastBuildDate>
<item>
  <title>Cotação do dolar</title>
  <dc:creator>Murilo Moraes</dc:creator>
  <link>https://your-website-url.example.com/posts/post-with-code/</link>
  <description><![CDATA[ 





<p>neste exercicio está como desenvolver um codigo em python que consulta a variação do dolar,a explicação está ao logno do codigo nos comentários dele.</p>
<div id="59e6a3fd" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> calendar  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Biblioteca usada para lidar com dados de calendário, como descobrir o último dia do mês</span></span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> datetime <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> datetime, timedelta  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># datetime manipula datas; timedelta permite somar/subtrair dias</span></span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> requests  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Usado para fazer requisições HTTP (acessar APIs externas)</span></span>
<span id="cb1-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> plotly.express <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> px  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Biblioteca para criar gráficos interativos</span></span>
<span id="cb1-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Usada para trabalhar com tabelas e DataFrames</span></span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> consultar_cotacao(mes_ano):</span>
<span id="cb1-8">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    mes_ano: string no formato MMYYYY, como '022007'</span></span>
<span id="cb1-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    A função consulta todas as cotações do dólar daquele mês no Banco Central</span></span>
<span id="cb1-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Preenche fins de semana e feriados usando a última cotação útil</span></span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Gera um gráfico e devolve os dados em forma de dicionário</span></span>
<span id="cb1-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb1-14"></span>
<span id="cb1-15">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-16">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. CRIA A DATA INICIAL E FINAL DO MÊS</span></span>
<span id="cb1-17">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-18"></span>
<span id="cb1-19">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Converte a string no formato "MMYYYY" para um objeto datetime representando o primeiro dia do mês</span></span>
<span id="cb1-20">    inicio_mes <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datetime.strptime(mes_ano, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%m%Y"</span>)</span>
<span id="cb1-21"></span>
<span id="cb1-22">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Descobre automaticamente quantos dias aquele mês tem e cria a data do último dia do mês</span></span>
<span id="cb1-23">    fim_mes <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> inicio_mes.replace(day<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>calendar.monthrange(inicio_mes.year, inicio_mes.month)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span>
<span id="cb1-24">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Exemplo: fevereiro de 2007 → último dia é 28 (ou 29 em ano bissexto)</span></span>
<span id="cb1-25"></span>
<span id="cb1-26">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Formata as datas para o padrão exigido pela API do Banco Central (MM-DD-YYYY)</span></span>
<span id="cb1-27">    data_ini <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> inicio_mes.strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%m-</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">-%Y"</span>)</span>
<span id="cb1-28">    data_fin <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> fim_mes.strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%m-</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">-%Y"</span>)</span>
<span id="cb1-29"></span>
<span id="cb1-30">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-31">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. MONTA A URL DA API DO BANCO CENTRAL (PTAX)</span></span>
<span id="cb1-32">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-33"></span>
<span id="cb1-34">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># A API PTAX exige que passemos o intervalo de datas, então construímos a URL completa com string formatada</span></span>
<span id="cb1-35">    endpoint <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb1-36">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/odata/"</span></span>
<span id="cb1-37">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CotacaoDolarPeriodo(dataInicial=@dataInicial,dataFinalCotacao=@dataFinalCotacao)?"</span></span>
<span id="cb1-38">        <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"@dataInicial='</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>data_ini<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'&amp;@dataFinalCotacao='</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>data_fin<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">'&amp;$format=json"</span></span>
<span id="cb1-39">    )</span>
<span id="cb1-40"></span>
<span id="cb1-41">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Faz a requisição HTTP GET para a API e converte a resposta para JSON</span></span>
<span id="cb1-42">    resposta <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> requests.get(endpoint).json()</span>
<span id="cb1-43"></span>
<span id="cb1-44">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-45">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. ORGANIZA OS DADOS RECEBIDOS EM UM DICIONÁRIO POR DIA</span></span>
<span id="cb1-46">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-47"></span>
<span id="cb1-48">    tabela_cotacoes <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {}  </span>
<span id="cb1-49">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Estrutura que teremos:</span></span>
<span id="cb1-50">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># { data: (valor_compra, valor_venda) }</span></span>
<span id="cb1-51"></span>
<span id="cb1-52">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> registro <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> resposta[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"value"</span>]:</span>
<span id="cb1-53">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Cada registro tem data e valores da cotação</span></span>
<span id="cb1-54"></span>
<span id="cb1-55">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Converte a string de data e hora da API para objeto datetime, depois extrai apenas a data (YYYY-MM-DD)</span></span>
<span id="cb1-56">        data_registro <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datetime.strptime(registro[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dataHoraCotacao"</span>], <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%m-</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> %H:%M:%S.</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%f</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>).date()</span>
<span id="cb1-57"></span>
<span id="cb1-58">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Valor da cotação no momento registrado</span></span>
<span id="cb1-59">        valor_compra <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> registro[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cotacaoCompra"</span>]</span>
<span id="cb1-60">        valor_venda <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> registro[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cotacaoVenda"</span>]</span>
<span id="cb1-61"></span>
<span id="cb1-62">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Armazena no dicionário usando a data como chave</span></span>
<span id="cb1-63">        tabela_cotacoes[data_registro] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (valor_compra, valor_venda)</span>
<span id="cb1-64"></span>
<span id="cb1-65">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-66">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4. FUNÇÃO INTERNA PARA ACHAR O ÚLTIMO DIA ÚTIL</span></span>
<span id="cb1-67">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-68"></span>
<span id="cb1-69">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> buscar_ultimo_util(dia_busca):</span>
<span id="cb1-70">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb1-71"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Usa o dia atual e volta para trás até encontrar um dia com cotação disponível.</span></span>
<span id="cb1-72"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Isso é necessário porque em fins de semana e feriados a bolsa não funciona.</span></span>
<span id="cb1-73"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        """</span></span>
<span id="cb1-74"></span>
<span id="cb1-75">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Começa voltando 1 dia antes do dia pesquisado</span></span>
<span id="cb1-76">        dia_busca <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-=</span> timedelta(days<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb1-77"></span>
<span id="cb1-78">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Continua voltando enquanto ainda está no mês consultado</span></span>
<span id="cb1-79">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">while</span> dia_busca <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> inicio_mes.date():</span>
<span id="cb1-80"></span>
<span id="cb1-81">            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Se esse dia estiver no dicionário, significa que teve cotação</span></span>
<span id="cb1-82">            <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> dia_busca <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> tabela_cotacoes:</span>
<span id="cb1-83">                <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> tabela_cotacoes[dia_busca]</span>
<span id="cb1-84"></span>
<span id="cb1-85">            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Caso contrário continua voltando mais um dia</span></span>
<span id="cb1-86">            dia_busca <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-=</span> timedelta(days<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb1-87"></span>
<span id="cb1-88">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Caso não encontre nada (o que é extremamente raro), retorna valores vazios</span></span>
<span id="cb1-89">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> (<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>)</span>
<span id="cb1-90"></span>
<span id="cb1-91">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-92">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5. MONTA A LISTA FINAL COM TODAS AS DATAS DO MÊS</span></span>
<span id="cb1-93">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-94"></span>
<span id="cb1-95">    linhas_processadas <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> []  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Guarda cada linha com data, compra e venda</span></span>
<span id="cb1-96">    data_atual <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> inicio_mes.date()</span>
<span id="cb1-97"></span>
<span id="cb1-98">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Loop para percorrer TODOS os dias do mês, incluindo finais de semana</span></span>
<span id="cb1-99">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">while</span> data_atual <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> fim_mes.date():</span>
<span id="cb1-100"></span>
<span id="cb1-101">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Se o dia tem cotação real, usamos ela</span></span>
<span id="cb1-102">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> data_atual <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> tabela_cotacoes:</span>
<span id="cb1-103">            compra, venda <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> tabela_cotacoes[data_atual]</span>
<span id="cb1-104"></span>
<span id="cb1-105">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb1-106">            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Se não tem (feriado ou final de semana), pegamos a última cotação conhecida antes dessa</span></span>
<span id="cb1-107">            compra, venda <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> buscar_ultimo_util(data_atual)</span>
<span id="cb1-108"></span>
<span id="cb1-109">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Adiciona o registro formatado à lista</span></span>
<span id="cb1-110">        linhas_processadas.append({</span>
<span id="cb1-111">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data"</span>: data_atual.strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/%m/%Y"</span>),  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Data formatada para o gráfico</span></span>
<span id="cb1-112">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Compra"</span>: compra,</span>
<span id="cb1-113">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Venda"</span>: venda,</span>
<span id="cb1-114">        })</span>
<span id="cb1-115"></span>
<span id="cb1-116">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Avança para o próximo dia</span></span>
<span id="cb1-117">        data_atual <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+=</span> timedelta(days<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb1-118"></span>
<span id="cb1-119">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-120">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 6. TRANSFORMA A LISTA EM UM DATAFRAME</span></span>
<span id="cb1-121">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-122"></span>
<span id="cb1-123">    df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame(linhas_processadas)</span>
<span id="cb1-124">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Isso facilita gerar gráficos e trabalhar com os dados</span></span>
<span id="cb1-125"></span>
<span id="cb1-126">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-127">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 7. GERA O GRÁFICO COM O PLOTLY</span></span>
<span id="cb1-128">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-129"></span>
<span id="cb1-130">    fig <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> px.line(</span>
<span id="cb1-131">        df,                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Fonte de dados</span></span>
<span id="cb1-132">        x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data"</span>,             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Eixo X → dia do mês</span></span>
<span id="cb1-133">        y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Compra"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Venda"</span>],<span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Eixo Y → duas linhas no mesmo gráfico</span></span>
<span id="cb1-134">        title<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Cotação do Dólar de </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>inicio_mes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/%m/%Y'</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> a </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>fim_mes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/%m/%Y'</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb1-135">        labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{</span>
<span id="cb1-136">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"value"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Valor (R$)"</span>, </span>
<span id="cb1-137">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"variable"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Tipo de Cotação"</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Nome da legenda</span></span>
<span id="cb1-138">        },</span>
<span id="cb1-139">        color_discrete_map<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Define as cores das duas linhas</span></span>
<span id="cb1-140">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Compra"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"green"</span>,</span>
<span id="cb1-141">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Venda"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span></span>
<span id="cb1-142">        }</span>
<span id="cb1-143">    )</span>
<span id="cb1-144"></span>
<span id="cb1-145">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Usa um tema visual mais limpo</span></span>
<span id="cb1-146">    fig.update_layout(template<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plotly_white"</span>)</span>
<span id="cb1-147"></span>
<span id="cb1-148">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Exibe o gráfico</span></span>
<span id="cb1-149">    fig.show()</span>
<span id="cb1-150"></span>
<span id="cb1-151">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-152">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 8. RETORNA OS DADOS DE FORMA ORGANIZADA</span></span>
<span id="cb1-153">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------------------------------------------------------------------</span></span>
<span id="cb1-154"></span>
<span id="cb1-155">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> {</span>
<span id="cb1-156">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Período consultado"</span>: <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>inicio_mes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/%m/%Y'</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> até </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>fim_mes<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/%m/%Y'</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb1-157">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cotações"</span>: linhas_processadas</span>
<span id="cb1-158">    }</span>
<span id="cb1-159"></span>
<span id="cb1-160"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Chamada da função, apenas para exemplo</span></span>
<span id="cb1-161"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(consultar_cotacao(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"022007"</span>))</span>
<span id="cb1-162"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#escolhi esta data pois meu RA 228766 não está na tabela que o professor mandou, então coloquei uma de minha escolha</span></span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.2.0.min.js" integrity="sha256-iZ2u/oU2wf/vDbl/ChcX93WgbBRSBvUO6N413hDz7xM=" crossorigin="anonymous"></script>                <div id="5b820847-c6ae-4a40-a379-4bcc9603c5be" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("5b820847-c6ae-4a40-a379-4bcc9603c5be")) {                    Plotly.newPlot(                        "5b820847-c6ae-4a40-a379-4bcc9603c5be",                        [{"hovertemplate":"Tipo de Cota\u00e7\u00e3o=Compra\u003cbr\u003eData=%{x}\u003cbr\u003eValor (R$)=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Compra","line":{"color":"green","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Compra","orientation":"v","showlegend":true,"x":["01\u002f02\u002f2007","02\u002f02\u002f2007","03\u002f02\u002f2007","04\u002f02\u002f2007","05\u002f02\u002f2007","06\u002f02\u002f2007","07\u002f02\u002f2007","08\u002f02\u002f2007","09\u002f02\u002f2007","10\u002f02\u002f2007","11\u002f02\u002f2007","12\u002f02\u002f2007","13\u002f02\u002f2007","14\u002f02\u002f2007","15\u002f02\u002f2007","16\u002f02\u002f2007","17\u002f02\u002f2007","18\u002f02\u002f2007","19\u002f02\u002f2007","20\u002f02\u002f2007","21\u002f02\u002f2007","22\u002f02\u002f2007","23\u002f02\u002f2007","24\u002f02\u002f2007","25\u002f02\u002f2007","26\u002f02\u002f2007","27\u002f02\u002f2007","28\u002f02\u002f2007"],"xaxis":"x","y":{"dtype":"f8","bdata":"ke18PzXeAEAPC7WmeccAQA8LtaZ5xwBADwu1pnnHAEAW+8vuycMAQClcj8L1qABAW0I+6NmsAEA3GsBbIMEAQFK4HoXr0QBAUrgehevRAEBSuB6F69EAQPJBz2bV5wBAd76fGi\u002fdAEAJG55eKcsAQBIUP8bctQBA001iEFi5AEDTTWIQWLkAQNNNYhBYuQBA001iEFi5AEDTTWIQWLkAQFFrmnecogBAXkvIBz2bAEDjpZvEILAAQOOlm8QgsABA46WbxCCwAEDJdr6fGq8AQOXyH9Jv3wBAOGdEaW\u002fwAEA="},"yaxis":"y","type":"scatter"},{"hovertemplate":"Tipo de Cota\u00e7\u00e3o=Venda\u003cbr\u003eData=%{x}\u003cbr\u003eValor (R$)=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Venda","line":{"color":"red","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Venda","orientation":"v","showlegend":true,"x":["01\u002f02\u002f2007","02\u002f02\u002f2007","03\u002f02\u002f2007","04\u002f02\u002f2007","05\u002f02\u002f2007","06\u002f02\u002f2007","07\u002f02\u002f2007","08\u002f02\u002f2007","09\u002f02\u002f2007","10\u002f02\u002f2007","11\u002f02\u002f2007","12\u002f02\u002f2007","13\u002f02\u002f2007","14\u002f02\u002f2007","15\u002f02\u002f2007","16\u002f02\u002f2007","17\u002f02\u002f2007","18\u002f02\u002f2007","19\u002f02\u002f2007","20\u002f02\u002f2007","21\u002f02\u002f2007","22\u002f02\u002f2007","23\u002f02\u002f2007","24\u002f02\u002f2007","25\u002f02\u002f2007","26\u002f02\u002f2007","27\u002f02\u002f2007","28\u002f02\u002f2007"],"xaxis":"x","y":{"dtype":"f8","bdata":"Vp+rrdjfAEDTvOMUHckAQNO84xQdyQBA07zjFB3JAEDarPpcbcUAQO0NvjCZqgBAH\u002fRsVn2uAED7y+7Jw8IAQBZqTfOO0wBAFmpN847TAEAWak3zjtMAQLbz\u002fdR46QBAO3DOiNLeAEDNzMzMzMwAQNbFbTSAtwBAl\u002f+Qfvu6AECX\u002f5B++7oAQJf\u002fkH77ugBAl\u002f+Qfvu6AECX\u002f5B++7oAQBUdyeU\u002fpABAIv32deCcAECoV8oyxLEAQKhXyjLEsQBAqFfKMsSxAECNKO0NvrAAQKmkTkAT4QBA\u002fBhz1xLyAEA="},"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Data"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Valor (R$)"}},"legend":{"title":{"text":"Tipo de Cota\u00e7\u00e3o"},"tracegroupgap":0},"title":{"text":"Cota\u00e7\u00e3o do D\u00f3lar de 01\u002f02\u002f2007 a 28\u002f02\u002f2007"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('5b820847-c6ae-4a40-a379-4bcc9603c5be');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>{'Período consultado': '01/02/2007 até 28/02/2007', 'Cotações': [{'Data': '01/02/2007', 'Compra': 2.1085, 'Venda': 2.1093}, {'Data': '02/02/2007', 'Compra': 2.0974, 'Venda': 2.0982}, {'Data': '03/02/2007', 'Compra': 2.0974, 'Venda': 2.0982}, {'Data': '04/02/2007', 'Compra': 2.0974, 'Venda': 2.0982}, {'Data': '05/02/2007', 'Compra': 2.0956, 'Venda': 2.0964}, {'Data': '06/02/2007', 'Compra': 2.0825, 'Venda': 2.0833}, {'Data': '07/02/2007', 'Compra': 2.0844, 'Venda': 2.0852}, {'Data': '08/02/2007', 'Compra': 2.0943, 'Venda': 2.0951}, {'Data': '09/02/2007', 'Compra': 2.1025, 'Venda': 2.1033}, {'Data': '10/02/2007', 'Compra': 2.1025, 'Venda': 2.1033}, {'Data': '11/02/2007', 'Compra': 2.1025, 'Venda': 2.1033}, {'Data': '12/02/2007', 'Compra': 2.1132, 'Venda': 2.114}, {'Data': '13/02/2007', 'Compra': 2.108, 'Venda': 2.1088}, {'Data': '14/02/2007', 'Compra': 2.0992, 'Venda': 2.1}, {'Data': '15/02/2007', 'Compra': 2.0888, 'Venda': 2.0896}, {'Data': '16/02/2007', 'Compra': 2.0905, 'Venda': 2.0913}, {'Data': '17/02/2007', 'Compra': 2.0905, 'Venda': 2.0913}, {'Data': '18/02/2007', 'Compra': 2.0905, 'Venda': 2.0913}, {'Data': '19/02/2007', 'Compra': 2.0905, 'Venda': 2.0913}, {'Data': '20/02/2007', 'Compra': 2.0905, 'Venda': 2.0913}, {'Data': '21/02/2007', 'Compra': 2.0794, 'Venda': 2.0802}, {'Data': '22/02/2007', 'Compra': 2.0758, 'Venda': 2.0766}, {'Data': '23/02/2007', 'Compra': 2.086, 'Venda': 2.0868}, {'Data': '24/02/2007', 'Compra': 2.086, 'Venda': 2.0868}, {'Data': '25/02/2007', 'Compra': 2.086, 'Venda': 2.0868}, {'Data': '26/02/2007', 'Compra': 2.0855, 'Venda': 2.0863}, {'Data': '27/02/2007', 'Compra': 2.1091, 'Venda': 2.1099}, {'Data': '28/02/2007', 'Compra': 2.1174, 'Venda': 2.1182}]}</code></pre>
</div>
</div>



 ]]></description>
  <category>programation</category>
  <category>queronota10</category>
  <guid>https://your-website-url.example.com/posts/post-with-code/</guid>
  <pubDate>Mon, 24 Nov 2025 00:00:00 GMT</pubDate>
  <media:content url="https://your-website-url.example.com/posts/post-with-code/price-tag-geometric-shape-vector-Memphis-style-Geometry-drawing-Geometric_502612_wh1200.png" medium="image" type="image/png" height="103" width="144"/>
</item>
<item>
  <title>gráfico X e Y</title>
  <dc:creator>Murilo Moraes</dc:creator>
  <link>https://your-website-url.example.com/posts/postttt/</link>
  <description><![CDATA[ 





<p>neste exercicio está como desenvolver um codigo em python que consulta um grafico com multiplos pontos x e y,a explicação está ao logno do codigo nos comentários dele.</p>
<div id="60853c1e" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> plotnine <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ggplot, aes, geom_point, geom_abline</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Leitura dos arquivos ----</span></span>
<span id="cb1-6"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">open</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X.txt"</span>) <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> f:</span>
<span id="cb1-7">    valores_x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>(line.strip()) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> line <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> f]</span>
<span id="cb1-8"></span>
<span id="cb1-9"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">open</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Y.txt"</span>) <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> f:</span>
<span id="cb1-10">    valores_y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>(line.strip()) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> line <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> f]</span>
<span id="cb1-11"></span>
<span id="cb1-12">df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame({<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x"</span>: valores_x, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"y"</span>: valores_y})</span>
<span id="cb1-13"></span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Regressão linear ----</span></span>
<span id="cb1-15">b, a <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.polyfit(df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'x'</span>], df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'y'</span>], <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb1-16"></span>
<span id="cb1-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Geração do gráfico ----</span></span>
<span id="cb1-18">plot <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb1-19">    ggplot(df, aes(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"y"</span>))</span>
<span id="cb1-20">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> geom_point()</span>
<span id="cb1-21">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> geom_abline(intercept<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>a, slope<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>b)</span>
<span id="cb1-22">)</span>
<span id="cb1-23"></span>
<span id="cb1-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ---- Salvar corretamente ----</span></span>
<span id="cb1-25">plot.save(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grafico.png"</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, width<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, height<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span>
<span id="cb1-26"></span>
<span id="cb1-27"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gráfico gerado com sucesso! Arquivo salvo como grafico.png"</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-stderr">
<pre><code>/home/codespace/.python/current/lib/python3.12/site-packages/plotnine/ggplot.py:623: PlotnineWarning: Saving 6 x 4 in image.
/home/codespace/.python/current/lib/python3.12/site-packages/plotnine/ggplot.py:624: PlotnineWarning: Filename: grafico.png</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Gráfico gerado com sucesso! Arquivo salvo como grafico.png</code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://your-website-url.example.com/posts/postttt/grafico.png" class="img-fluid figure-img"></p>
<figcaption>alt</figcaption>
</figure>
</div>



 ]]></description>
  <category>programation</category>
  <category>queronota10</category>
  <guid>https://your-website-url.example.com/posts/postttt/</guid>
  <pubDate>Mon, 24 Nov 2025 00:00:00 GMT</pubDate>
  <media:content url="https://your-website-url.example.com/posts/postttt/10993494.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>consulta de linhas de ônibus</title>
  <dc:creator>Murilo Moraes</dc:creator>
  <link>https://your-website-url.example.com/posts/welcome/</link>
  <description><![CDATA[ 





<p>neste post você vera como é um programa que consulta linhas de ônibus em uma mapa interativo! onde o codigo inteiro está explicado!</p>
<div id="9b4a8dd6" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> requests            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Biblioteca para fazer requisições HTTP</span></span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> folium              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Usada para criar mapas interativos e marcadores</span></span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> os                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Usada para acessar variáveis de ambiente (como o token)</span></span>
<span id="cb1-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> dotenv <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> load_dotenv  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Carrega variáveis do arquivo .env</span></span>
<span id="cb1-5"></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. CARREGAMENTO DO TOKEN DA API</span></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-9"></span>
<span id="cb1-10">load_dotenv()  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Lê o arquivo .env e insere suas variáveis dentro de os.environ</span></span>
<span id="cb1-11"></span>
<span id="cb1-12">TOKEN <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> os.getenv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SPTRANS_TOKEN"</span>)  </span>
<span id="cb1-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Pegamos SOMENTE a variável do .env (conforme solicitado)</span></span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Esta variável não pode ser renomeada para não quebrar a lógica do usuário</span></span>
<span id="cb1-15"></span>
<span id="cb1-16">COD_LINHA <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1198</span></span>
<span id="cb1-17"></span>
<span id="cb1-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Código da linha consultada. </span></span>
<span id="cb1-19"></span>
<span id="cb1-20"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Iniciando consulta da linha </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>COD_LINHA<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">..."</span>)</span>
<span id="cb1-21"></span>
<span id="cb1-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. AUTENTICAÇÃO NA API DO SPTRANS (Olho Vivo)</span></span>
<span id="cb1-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-25"></span>
<span id="cb1-26">sessao <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> requests.Session()  </span>
<span id="cb1-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Criamos uma sessão HTTP, que mantém cookies entre requisições</span></span>
<span id="cb1-28"></span>
<span id="cb1-29">resposta_login <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sessao.post(</span>
<span id="cb1-30">    <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"http://api.olhovivo.sptrans.com.br/v2.1/Login/Autenticar?token=</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>TOKEN<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb1-31">)</span>
<span id="cb1-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># A API exige um POST com o token na URL para autenticar a sessão</span></span>
<span id="cb1-33"></span>
<span id="cb1-34"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> resposta_login.text <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"true"</span>:</span>
<span id="cb1-35">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># A API retorna texto simples "true" se funcionar; qualquer outra coisa = erro</span></span>
<span id="cb1-36">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Falha ao autenticar. Verifique o arquivo .env e o token informado."</span>)</span>
<span id="cb1-37">    exit()  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Encerra o programa imediatamente</span></span>
<span id="cb1-38"></span>
<span id="cb1-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-40"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. MONTAGEM DAS URLS PARA CAPTURA DE PARADAS E POSIÇÃO DOS ÔNIBUS</span></span>
<span id="cb1-41"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-42"></span>
<span id="cb1-43">url_coleta_paradas <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb1-44">    <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"http://api.olhovivo.sptrans.com.br/v2.1/Parada/BuscarParadasPorLinha?codigoLinha=</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>COD_LINHA<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb1-45">)</span>
<span id="cb1-46"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Endpoint da API que devolve todas as paradas da linha consultada</span></span>
<span id="cb1-47"></span>
<span id="cb1-48">url_coleta_veiculos <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb1-49">    <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"http://api.olhovivo.sptrans.com.br/v2.1/Posicao/Linha?codigoLinha=</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>COD_LINHA<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb1-50">)</span>
<span id="cb1-51"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Endpoint que devolve a posição dos ônibus em tempo real</span></span>
<span id="cb1-52"></span>
<span id="cb1-53"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-54"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4. CONSULTA DOS DADOS NA API</span></span>
<span id="cb1-55"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-56"></span>
<span id="cb1-57">dados_paradas <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sessao.get(url_coleta_paradas).json()</span>
<span id="cb1-58"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Lista de paradas contendo nome, lat, lon e infos extras</span></span>
<span id="cb1-59"></span>
<span id="cb1-60">dados_posicoes <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sessao.get(url_coleta_veiculos).json()</span>
<span id="cb1-61"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Resultado bruto com várias informações, incluindo 'vs' que lista veículos</span></span>
<span id="cb1-62"></span>
<span id="cb1-63">onibus_ativos <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> dados_posicoes.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vs"</span>, [])</span>
<span id="cb1-64"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># "vs" = veículos → caso não exista, devolve lista vazia</span></span>
<span id="cb1-65"></span>
<span id="cb1-66"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-67"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5. GERAÇÃO DO MAPA INTERATIVO</span></span>
<span id="cb1-68"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ----------------------------------------------------------------------------</span></span>
<span id="cb1-69"></span>
<span id="cb1-70"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> dados_paradas:</span>
<span id="cb1-71">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Se houver paradas encontradas...</span></span>
<span id="cb1-72">    </span>
<span id="cb1-73">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------</span></span>
<span id="cb1-74">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># CENTRALIZA O MAPA NA 1ª PARADA</span></span>
<span id="cb1-75">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------</span></span>
<span id="cb1-76">    pos_inicial_lat <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> dados_paradas[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>][<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"py"</span>]  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Latitude da primeira parada</span></span>
<span id="cb1-77">    pos_inicial_lon <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> dados_paradas[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>][<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"px"</span>]  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Longitude da primeira parada</span></span>
<span id="cb1-78">    </span>
<span id="cb1-79">    mapa <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> folium.Map(location<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[pos_inicial_lat, pos_inicial_lon], zoom_start<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>)</span>
<span id="cb1-80">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Cria o mapa centralizado na primeira parada da linha</span></span>
<span id="cb1-81"></span>
<span id="cb1-82">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------</span></span>
<span id="cb1-83">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># INSERE TODAS AS PARADAS (MARCADOR AZUL)</span></span>
<span id="cb1-84">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------</span></span>
<span id="cb1-85">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> parada <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> dados_paradas:</span>
<span id="cb1-86">        folium.Marker(</span>
<span id="cb1-87">            location<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[parada[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"py"</span>], parada[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"px"</span>]],</span>
<span id="cb1-88">            popup<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Parada: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>parada[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'np'</span>]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 'np' é o nome da parada</span></span>
<span id="cb1-89">            icon<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>folium.Icon(color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>, icon<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"info-sign"</span>)</span>
<span id="cb1-90">        ).add_to(mapa)</span>
<span id="cb1-91"></span>
<span id="cb1-92">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------</span></span>
<span id="cb1-93">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># INSERE TODOS OS ÔNIBUS ATIVOS (MARCADOR VERMELHO)</span></span>
<span id="cb1-94">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------</span></span>
<span id="cb1-95">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> onibus_ativos:</span>
<span id="cb1-96">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> veiculo <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> onibus_ativos:</span>
<span id="cb1-97">            folium.Marker(</span>
<span id="cb1-98">                location<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[veiculo[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"py"</span>], veiculo[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"px"</span>]],</span>
<span id="cb1-99">                popup<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Prefixo: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>veiculo[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'p'</span>]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 'p' = prefixo do ônibus</span></span>
<span id="cb1-100">                icon<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>folium.Icon(color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, icon<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bus"</span>, prefix<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fa"</span>)</span>
<span id="cb1-101">            ).add_to(mapa)</span>
<span id="cb1-102"></span>
<span id="cb1-103">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Mapa gerado com sucesso! </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(onibus_ativos)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> ônibus encontrados."</span>)</span>
<span id="cb1-104">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb1-105">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nenhum ônibus encontrado rodando no momento."</span>)</span>
<span id="cb1-106"></span>
<span id="cb1-107">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------</span></span>
<span id="cb1-108">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SALVA O MAPA EM ARQUIVO HTML</span></span>
<span id="cb1-109">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># --------------------------</span></span>
<span id="cb1-110">    arquivo_saida <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mapa_linha_695Y.html"</span></span>
<span id="cb1-111">    mapa.save(arquivo_saida)</span>
<span id="cb1-112"></span>
<span id="cb1-113">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Arquivo '</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>arquivo_saida<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">' criado com sucesso!"</span>)</span>
<span id="cb1-114"></span>
<span id="cb1-115"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb1-116">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Erro ao carregar paradas da linha. A API pode estar instável."</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>Iniciando consulta da linha 1198...
Nenhum ônibus encontrado rodando no momento.
Arquivo 'mapa_linha_695Y.html' criado com sucesso!</code></pre>
</div>
</div>
<p><a href="../../static/mapa_linha_695Y.html">🔗 Abrir mapa interativo da linha 695Y</a></p>



 ]]></description>
  <category>programation</category>
  <guid>https://your-website-url.example.com/posts/welcome/</guid>
  <pubDate>Fri, 21 Nov 2025 00:00:00 GMT</pubDate>
  <media:content url="https://your-website-url.example.com/posts/welcome/pngtree-blue-bus-vektor-png-image_4938752.png" medium="image" type="image/png" height="89" width="144"/>
</item>
</channel>
</rss>
